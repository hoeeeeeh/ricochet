<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>리코셰 로봇 - URL만으로 플레이</title>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div class="app">
    <header class="toolbar">
      <div class="left-group">
        <button id="btn-create-room" class="primary">방 만들기</button>
        <button id="btn-copy-link">링크 복사</button>
      </div>
      <div class="right-group">
        <input id="player-name" type="text" placeholder="플레이어 이름" />
        <input id="proof-url-input" type="text" placeholder="증명 URL 붙여넣기" />
        <button id="btn-play-proof" class="secondary">증명 코드 입력하기</button>
      </div>
    </header>

    <main class="main">
      <div class="board-wrapper">
        <canvas id="board-canvas" width="768" height="768"></canvas>
        <div id="direction-controls" class="direction-controls hidden">
          <button data-dir="u">▲</button>
          <div class="h-row">
            <button data-dir="l">◀</button>
            <button data-dir="d">▼</button>
            <button data-dir="r">▶</button>
          </div>
          <div class="h-row">
            <button id="btn-undo" title="되돌리기">↩︎</button>
          </div>
        </div>
        <div class="proof-toggle">
          <button id="btn-start-proof" class="primary large">증명하기</button>
        </div>
      </div>
      <aside class="panel">
        <div class="status-row">
          <span id="status-text">대기 중</span>
        </div>
        <div class="legend">
          <div class="legend-item"><span class="chip red"></span> Red</div>
          <div class="legend-item"><span class="chip yellow"></span> Yellow</div>
          <div class="legend-item"><span class="chip blue"></span> Blue</div>
          <div class="legend-item"><span class="chip green"></span> Green</div>
          <div class="legend-item"><span class="chip target"></span> Target</div>
        </div>
        <div class="help">
          <p>증명 모드: 로봇 클릭 → 방향키(↑↓←→) / WASD / ㅈㅁㄴㅇ 또는 버튼으로 이동.</p>
          <p>URL 쿼리: s(시드), p(이동열). 예: ?s=abc123&p=ruyl...</p>
        </div>
      </aside>
    </main>
  </div>

  <script type="module" src="./src/main.js"></script>
  <noscript>자바스크립트를 활성화하세요.</noscript>
  
  <div id="overlay" class="overlay hidden">
    <div class="modal-card">
      <div id="modal-message" class="modal-message">증명 성공!</div>
      <div class="modal-actions">
        <button id="btn-share-proof" class="primary">공유하기</button>
        <button id="btn-close-modal">닫기</button>
      </div>
    </div>
  </div>
  
</body>
</html>


